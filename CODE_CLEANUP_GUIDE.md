# 코드 정리 가이드

## 🔍 코드 분석 도구 사용

### 1. 사용하지 않는 코드 찾기

```powershell
.\analyze_unused_code.ps1
```

이 스크립트는 다음을 찾습니다:
- 주석 처리된 코드
- 프로젝트에 포함되지 않은 파일
- TODO/FIXME 주석
- 중복 정의 가능한 구조체

---

## 🗑️ 정리 대상

### 명확히 제거 가능한 파일

다음 파일들은 중복이거나 사용되지 않는 것으로 보입니다:

1. **Serach_LiST.cpp/h** 
   - 중복: `Searching_List.cpp/h`가 실제 사용됨
   - **제거 권장**

2. **analyPatten.cpp/h**
   - 프로젝트에 포함되어 있지 않음
   - **확인 후 제거**

### 확인 필요한 파일

다음 파일들은 실제 사용 여부 확인 필요:

- `DegreeList.cpp/h` - 프로젝트에 포함되어 있지만 사용 여부 확인 필요
- `T0424.cpp/h`, `T1101.cpp/h`, `T1102.cpp/h` - TR 코드용, 실제 사용 확인

---

## 📋 정리 체크리스트

### 1단계: 분석 실행

- [ ] `.\analyze_unused_code.ps1` 실행
- [ ] 결과 확인 및 검토
- [ ] 사용하지 않는 파일 목록 작성

### 2단계: 안전한 제거

- [ ] 백업 생성 (Git commit 등)
- [ ] 명확히 사용하지 않는 파일만 제거
- [ ] 빌드 테스트

### 3단계: 주석 처리된 코드 정리

**찾기 패턴:**
```cpp
// if (...)
// {
//     ...
// }

// void SomeFunction()
// {
//     ...
// }
```

**정리 방법:**
1. 주석 처리된 코드 확인
2. 실제로 필요 없는지 판단
3. 필요 없으면 제거, 필요하면 주석 개선

### 4단계: 구조체 정리

**중복 정의 확인:**
```cpp
// 같은 이름의 구조체가 여러 곳에 정의되어 있는지 확인
struct JMINFO { ... };  // ETrade_Order_Sample.h
struct JMINFO { ... };  // 다른 파일
```

**정리 방법:**
1. 중복 구조체 찾기
2. 하나로 통합
3. 참조 업데이트

### 5단계: 함수 정리

**사용하지 않는 함수 찾기:**
```powershell
# 함수 정의 찾기
Select-String -Pattern "^\s*(void|int|CString|BOOL).*\(\)" *.cpp,*.h

# 함수 호출 찾기
Select-String -Pattern "FunctionName\(" *.cpp
```

**정리 방법:**
1. 정의된 함수 목록 작성
2. 호출 위치 확인
3. 사용되지 않으면 제거

---

## ⚠️ 주의사항

### 제거하지 말아야 할 것

1. **로그인 정보** (요구사항에 따라 유지)
   - `StdAfx.h`의 `STR_ID`, `STR_PASSWORD_ID` 등
   - 실제 사용 중이므로 제거하지 않음

2. **MFC 매크로 코드**
   ```cpp
   //{{AFX_DATA_MAP(...)
   //}}AFX_DATA_MAP
   ```
   - MFC 클래스 위자드 생성 코드
   - 제거하면 안 됨

3. **TR 패킷 헤더**
   - `packet/` 폴더의 모든 헤더 파일
   - 실제 사용 중일 수 있으므로 확인 후 제거

---

## 🛠️ 정리 도구

### PowerShell 스크립트

**analyze_unused_code.ps1** - 코드 분석
- 주석 처리된 코드 찾기
- 사용하지 않는 파일 찾기
- TODO/FIXME 찾기

### Visual Studio 기능

1. **코드 분석**
   - 프로젝트 > 코드 분석 실행

2. **참조 찾기**
   - 함수/변수 우클릭 > "모든 참조 찾기"

3. **정의로 이동**
   - F12 키

### 외부 도구

- **Cppcheck**: 정적 코드 분석
- **PVS-Studio**: 코드 품질 검사 (상용)

---

## 📝 정리 후 확인

정리 작업 후 반드시:

1. **빌드 테스트**
   ```powershell
   cmake --build build --config Release
   ```

2. **컴파일 오류 확인**
   - 모든 참조가 올바른지 확인

3. **기능 테스트**
   - 애플리케이션 실행
   - 주요 기능 테스트

---

## 🔄 점진적 정리 권장

한 번에 모든 것을 정리하려 하지 말고:

1. **1단계**: 명확히 사용하지 않는 파일 제거
2. **2단계**: 주석 처리된 코드 정리
3. **3단계**: 중복 구조체 정리
4. **4단계**: 사용하지 않는 함수 제거

각 단계마다 빌드 및 테스트를 수행하세요.

