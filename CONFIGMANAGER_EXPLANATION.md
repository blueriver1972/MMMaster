# ConfigManager μ—­ν•  λ° μ¬ν™μ© μ„¤λ…

## ConfigManagerμ μ›λ μ—­ν• 

### 1. MMMaster λ©”μΈ ν”„λ΅κ·Έλ¨μ—μ„μ μ—­ν• 

**λ©μ **: `config.ini` νμΌμ—μ„ **μ•”νΈν™”λ κ³„μΆ μ •λ³΄λ¥Ό μ½μ–΄μ„ λ³µνΈν™”**ν•μ—¬ μ‚¬μ©

**μ‚¬μ© μ„μΉ**: `ETrade_Order_SampleDlg.cpp`μ `OnBnClickedButtonConnect()` ν•¨μ

**λ™μ‘ νλ¦„**:
```
1. ν”„λ΅κ·Έλ¨ μ‹μ‘ μ‹
   β†“
2. ConfigManager.ReadAccountInfo() νΈμ¶
   β†“
3. config.ini νμΌμ—μ„ μ•”νΈν™”λ μ •λ³΄ μ½κΈ°
   β†“
4. μ•”νΈν™” ν‚¤λ΅ λ³µνΈν™”
   β†“
5. λ³µνΈν™”λ κ³„μΆ μ •λ³΄λ¥Ό λ³€μμ— μ €μ¥
   (gscCount, gscCountpw, gcsID, gcsPw, gcsVPw λ“±)
   β†“
6. XingAPI λ΅κ·ΈμΈμ— μ‚¬μ©
```

**μ½”λ“ μμ‹**:
```cpp
// ETrade_Order_SampleDlg.cpp
CConfigManager m_ConfigManager;  // λ©¤λ²„ λ³€μ

// κ³„μΆ μ •λ³΄ μ½κΈ°
if(m_ConfigManager.ReadAccountInfo(strAccountIndex, strAccountID, strAccountPW,
   strLoginID, strLoginPW, strVerifyPW) == 1) {
    // λ³µνΈν™” μ„±κ³µ β†’ λ³€μμ— μ €μ¥
    gscCount = strAccountID;      // κ³„μΆλ²νΈ
    gscCountpw = strAccountPW;    // κ³„μΆ λΉ„λ°€λ²νΈ
    m_csID = strLoginID;          // λ΅κ·ΈμΈ ID
    m_csIdPw = strLoginPW;        // λ΅κ·ΈμΈ λΉ„λ°€λ²νΈ
    m_csPubVerify = strVerifyPW;  // κ³µμΈμΈμ¦μ„ λΉ„λ°€λ²νΈ
}
```

### 2. ConfigManagerμ μ£Όμ” κΈ°λ¥

#### μ½κΈ° κΈ°λ¥ (Read)
- `ReadAccountInfo()`: config.iniμ—μ„ μ•”νΈν™”λ μ •λ³΄ μ½κΈ° λ° λ³µνΈν™”
- `ConfigFileExists()`: μ„¤μ • νμΌ μ΅΄μ¬ μ—¬λ¶€ ν™•μΈ
- `ValidateConfigFile()`: μ„¤μ • νμΌ λ¬΄κ²°μ„± κ²€μ¦

#### μ“°κΈ° κΈ°λ¥ (Write)
- `WriteAccountInfo()`: κ³„μΆ μ •λ³΄λ¥Ό μ•”νΈν™”ν•μ—¬ config.iniμ— μ €μ¥
- `InitializeConfigFile()`: μ„¤μ • νμΌ μ΄κΈ° μƒμ„± (κ°λ°μ μ „μ©)

#### μ•”νΈν™” κΈ°λ¥
- `EncryptString()`: ν‰λ¬Έμ„ μ•”νΈν™”
- `DecryptString()`: μ•”νΈλ¬Έμ„ λ³µνΈν™”

## ConfigGeneratorμ—μ„μ μ¬ν™μ©

### 1. λ°λ€ μ‘μ—… μν–‰

**λ©μ **: μ‚¬μ©μλ΅λ¶€ν„° **ν‰λ¬Έ κ³„μΆ μ •λ³΄λ¥Ό μ…λ ¥λ°›μ•„μ„ μ•”νΈν™”ν•μ—¬ config.ini νμΌ μƒμ„±**

**λ™μ‘ νλ¦„**:
```
1. ConfigGenerator.exe μ‹¤ν–‰
   β†“
2. μ‚¬μ©μλ΅λ¶€ν„° κ³„μΆ μ •λ³΄ μ…λ ¥ λ°›κΈ°
   (κ³„μΆλ²νΈ, λΉ„λ°€λ²νΈ, λ΅κ·ΈμΈ ID λ“± - ν‰λ¬Έ)
   β†“
3. ConfigManager.InitializeConfigFile() νΈμ¶
   β†“
4. ConfigManagerκ°€ λ‚΄λ¶€μ μΌλ΅ μ•”νΈν™” μν–‰
   β†“
5. μ•”νΈν™”λ μ •λ³΄λ¥Ό config.ini νμΌμ— μ €μ¥
   β†“
6. config.ini νμΌ μƒμ„± μ™„λ£
```

**μ½”λ“ μμ‹**:
```cpp
// ConfigGenerator.cpp
CConfigManager configMgr;  // μΈμ¤ν„΄μ¤ μƒμ„±

// μ‚¬μ©μλ΅λ¶€ν„° ν‰λ¬Έ μ…λ ¥ λ°›κΈ°
CString accountID = GetStringInput("κ³„μΆλ²νΈ: ");
CString accountPW = GetPasswordInput("κ³„μΆ λΉ„λ°€λ²νΈ: ");
CString loginID = GetStringInput("λ΅κ·ΈμΈ ID: ");
// ... λ“±λ“±

// ConfigManagerλ¥Ό μ‚¬μ©ν•μ—¬ μ•”νΈν™” λ° μ €μ¥
configMgr.InitializeConfigFile(
    strAccountIndex, strAccountID, strAccountPW,
    strLoginID, strLoginPW, strVerifyPW, strEncryptionKey
);
// β†‘ μ΄ ν•¨μ λ‚΄λ¶€μ—μ„:
//   1. EncryptString()μΌλ΅ μ•”νΈν™”
//   2. WriteIniString()μΌλ΅ config.iniμ— μ €μ¥
```

### 2. μ¬ν™μ©μ μ¥μ 

#### μ½”λ“ μ¤‘λ³µ μ κ±°
- μ•”νΈν™”/λ³µνΈν™” λ΅μ§μ„ ν• κ³³μ—μ„ κ΄€λ¦¬
- INI νμΌ μ½κΈ°/μ“°κΈ° λ΅μ§ κ³µμ 
- μ„¤μ • νμΌ κ²½λ΅ κ³„μ‚° λ΅μ§ κ³µμ 

#### μΌκ΄€μ„± λ³΄μ¥
- κ°™μ€ μ•”νΈν™” μ•κ³ λ¦¬μ¦ μ‚¬μ©
- κ°™μ€ νμΌ ν•μ‹ μ‚¬μ©
- κ°™μ€ κ²€μ¦ λ΅μ§ μ‚¬μ©

#### μ μ§€λ³΄μ μ©μ΄
- μ•”νΈν™” λ°©μ‹ λ³€κ²½ μ‹ ConfigManagerλ§ μμ •
- νμΌ ν•μ‹ λ³€κ²½ μ‹ ConfigManagerλ§ μμ •

## μ „μ²΄ νλ¦„λ„

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚  κ°λ°μ/μ‚¬μ©μ                                           β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                    β”‚
                    β–Ό
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚  ConfigGenerator.exe                                     β”‚
β”‚  - μ‚¬μ©μ μ…λ ¥ λ°›κΈ° (ν‰λ¬Έ)                               β”‚
β”‚  - ConfigManager.InitializeConfigFile() νΈμ¶            β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                    β”‚
                    β–Ό
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚  ConfigManager ν΄λμ¤                                    β”‚
β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”               β”‚
β”‚  β”‚ InitializeConfigFile()               β”‚               β”‚
β”‚  β”‚  β”β”€ EncryptString() (μ•”νΈν™”)        β”‚               β”‚
β”‚  β”‚  β””β”€ WriteIniString() (νμΌ μ €μ¥)     β”‚               β”‚
β”‚  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”               β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                    β”‚
                    β–Ό
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚  config.ini νμΌ (μ•”νΈν™”λ μ •λ³΄ μ €μ¥)                    β”‚
β”‚  [ACCOUNT]                                               β”‚
β”‚  ACCOUNT_ID=<μ•”νΈν™”λ κ³„μΆλ²νΈ>                          β”‚
β”‚  ACCOUNT_PW=<μ•”νΈν™”λ λΉ„λ°€λ²νΈ>                           β”‚
β”‚  LOGIN_ID=<μ•”νΈν™”λ λ΅κ·ΈμΈ ID>                           β”‚
β”‚  ...                                                     β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                    β”‚
                    β–Ό
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚  MMMaster.exe (λ©”μΈ ν”„λ΅κ·Έλ¨)                           β”‚
β”‚  - ConfigManager.ReadAccountInfo() νΈμ¶                  β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                    β”‚
                    β–Ό
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚  ConfigManager ν΄λμ¤                                    β”‚
β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”               β”‚
β”‚  β”‚ ReadAccountInfo()                    β”‚               β”‚
β”‚  β”‚  β”β”€ ReadIniString() (νμΌ μ½κΈ°)      β”‚               β”‚
β”‚  β”‚  β””β”€ DecryptString() (λ³µνΈν™”)         β”‚               β”‚
β”‚  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”               β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                    β”‚
                    β–Ό
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚  λ³µνΈν™”λ κ³„μΆ μ •λ³΄                                       β”‚
β”‚  - gscCount (κ³„μΆλ²νΈ)                                    β”‚
β”‚  - gscCountpw (κ³„μΆ λΉ„λ°€λ²νΈ)                            β”‚
β”‚  - m_csID (λ΅κ·ΈμΈ ID)                                    β”‚
β”‚  - m_csIdPw (λ΅κ·ΈμΈ λΉ„λ°€λ²νΈ)                            β”‚
β”‚  β†’ XingAPI λ΅κ·ΈμΈμ— μ‚¬μ©                                  β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

## ν•µμ‹¬ ν¬μΈνΈ

### 1. ConfigManagerλ” "μ½κΈ°"μ™€ "μ“°κΈ°" λ¨λ‘ μ§€μ›
- **μ½κΈ°**: MMMaster λ©”μΈ ν”„λ΅κ·Έλ¨μ—μ„ μ‚¬μ©
- **μ“°κΈ°**: ConfigGeneratorμ—μ„ μ‚¬μ©

### 2. κ°™μ€ ν΄λμ¤, λ‹¤λ¥Έ μ©λ„
- **MMMaster**: `ReadAccountInfo()` μ‚¬μ© β†’ λ³µνΈν™”ν•μ—¬ μ½κΈ°
- **ConfigGenerator**: `InitializeConfigFile()` μ‚¬μ© β†’ μ•”νΈν™”ν•μ—¬ μ“°κΈ°

### 3. μ•”νΈν™”/λ³µνΈν™”λ” ConfigManager λ‚΄λ¶€μ—μ„ μ²λ¦¬
- μ™Έλ¶€μ—μ„λ” ν‰λ¬Έλ§ λ‹¤λ£Έ
- μ•”νΈν™”/λ³µνΈν™” λ΅μ§μ€ μΊ΅μν™”λ¨

## μ‹¤μ  μ‚¬μ© μμ‹

### MMMasterμ—μ„ μ½κΈ°
```cpp
// ETrade_Order_SampleDlg.cpp
CConfigManager m_ConfigManager;

// config.iniμ—μ„ μ½κΈ°
CString accountID, accountPW, loginID, loginPW, verifyPW;
if(m_ConfigManager.ReadAccountInfo(index, accountID, accountPW, 
                                   loginID, loginPW, verifyPW)) {
    // λ³µνΈν™”λ μ •λ³΄ μ‚¬μ©
    gscCount = accountID;  // ν‰λ¬Έ κ³„μΆλ²νΈ
}
```

### ConfigGeneratorμ—μ„ μ“°κΈ°
```cpp
// ConfigGenerator.cpp
CConfigManager configMgr;

// μ‚¬μ©μλ΅λ¶€ν„° ν‰λ¬Έ μ…λ ¥
CString accountID = GetStringInput("κ³„μΆλ²νΈ: ");  // "20080800101"
CString accountPW = GetPasswordInput("λΉ„λ°€λ²νΈ: "); // "1234"

// μ•”νΈν™”ν•μ—¬ μ €μ¥
configMgr.InitializeConfigFile("1", accountID, accountPW, 
                                loginID, loginPW, verifyPW, key);
// β†’ config.iniμ— μ•”νΈν™”λ ν•νƒλ΅ μ €μ¥λ¨
```

## μ”μ•½

**ConfigManagerμ μ—­ν• **:
- π“– **μ½κΈ°**: μ•”νΈν™”λ config.ini β†’ λ³µνΈν™” β†’ ν‰λ¬Έ κ³„μΆ μ •λ³΄ (MMMasterμ—μ„ μ‚¬μ©)
- βοΈ **μ“°κΈ°**: ν‰λ¬Έ κ³„μΆ μ •λ³΄ β†’ μ•”νΈν™” β†’ config.ini νμΌ μƒμ„± (ConfigGeneratorμ—μ„ μ‚¬μ©)

**μ¬ν™μ©μ μ΄μ **:
- κ°™μ€ μ•”νΈν™” λ΅μ§ κ³µμ 
- μ½”λ“ μ¤‘λ³µ μ κ±°
- μΌκ΄€μ„± λ³΄μ¥
- μ μ§€λ³΄μ μ©μ΄

**κ²°κ³Ό**:
- ConfigGeneratorκ°€ μƒμ„±ν• config.ini νμΌμ„
- MMMasterκ°€ μ½μ–΄μ„ μ‚¬μ©ν•  μ μμ
- κ°™μ€ ConfigManager ν΄λμ¤λ¥Ό μ‚¬μ©ν•λ―€λ΅ νΈν™μ„± λ³΄μ¥

